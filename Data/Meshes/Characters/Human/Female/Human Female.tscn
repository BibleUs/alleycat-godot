[gd_scene load_steps=41 format=2]

[ext_resource path="res://Data/Meshes/Characters/Human/Female/Character.escn" type="PackedScene" id=1]
[ext_resource path="res://Source/AlleyCat/Character/Humanoid.cs" type="Script" id=2]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Body.mesh" type="ArrayMesh" id=3]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Brows.mesh" type="ArrayMesh" id=4]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Head.mesh" type="ArrayMesh" id=5]
[ext_resource path="res://Data/Meshes/Hairs/Human/Female/Short Hair/Short Hair.tscn" type="PackedScene" id=6]
[ext_resource path="res://Data/Meshes/Clothes/Human/Female/Rag/Rag - Worn.tscn" type="PackedScene" id=7]
[ext_resource path="res://Data/Meshes/Clothes/Human/Common/Collar/Collar - Worn.tscn" type="PackedScene" id=8]
[ext_resource path="res://Source/AlleyCat/Common/Marker.cs" type="Script" id=9]
[ext_resource path="res://Source/AlleyCat/Animation/IKChain.cs" type="Script" id=10]
[ext_resource path="res://Source/AlleyCat/Autowire/Binding.cs" type="Script" id=11]
[ext_resource path="res://Source/AlleyCat/Animation/AnimationStateManager.cs" type="Script" id=12]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Idle/Breath.anim" type="Animation" id=13]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/GettingUp.anim" type="Animation" id=14]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Interactions/HoldInRightHand.anim" type="Animation" id=15]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Idle/Idle.anim" type="Animation" id=16]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/Kneel.anim" type="Animation" id=17]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/KneelEnd.anim" type="Animation" id=18]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/KneelStart.anim" type="Animation" id=19]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Interactions/PickUp.anim" type="Animation" id=20]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Idle/Reset.anim" type="Animation" id=21]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/SitOnGround.anim" type="Animation" id=22]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Sit/SitOnGroundStart.anim" type="Animation" id=23]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Locomotion/WalkBackward.anim" type="Animation" id=24]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Locomotion/WalkForward.anim" type="Animation" id=25]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Locomotion/WalkLeft.anim" type="Animation" id=26]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Locomotion/WalkRight.anim" type="Animation" id=27]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Animations/Animation Tree.tres" type="AnimationNodeBlendTree" id=28]
[ext_resource path="res://Source/AlleyCat/Sensor/PairedEyeSight.cs" type="Script" id=29]
[ext_resource path="res://Source/AlleyCat/Motion/AnimationDrivenLocomotion.cs" type="Script" id=30]
[ext_resource path="res://Source/AlleyCat/Character/CharacterEquipments.cs" type="Script" id=31]
[ext_resource path="res://Source/AlleyCat/Action/ActionMap.cs" type="Script" id=32]
[ext_resource path="res://Source/AlleyCat/Item/PickupAction.cs" type="Script" id=33]
[ext_resource path="res://Source/AlleyCat/Item/DropAction.cs" type="Script" id=34]
[ext_resource path="res://Source/AlleyCat/Animation/SitAction.cs" type="Script" id=35]

[sub_resource type="PhysicsMaterial" id=1]

friction = 1.0
rough = false
bounce = 0.0
absorbent = false

[sub_resource type="PhysicsMaterial" id=2]

friction = 1.0
rough = false
bounce = 0.0
absorbent = false

[sub_resource type="CapsuleShape" id=3]

margin = 0.04
radius = 0.246558
height = 1.13148
_sections_unfolded = [ "Resource" ]

[sub_resource type="AnimationNodeStateMachinePlayback" id=4]

resource_local_to_scene = true

[sub_resource type="AnimationNodeStateMachinePlayback" id=5]

resource_local_to_scene = true

[node name="Human Female" instance=ExtResource( 1 )]
transform = Transform( 1, 1.39698e-09, -2.44472e-09, -1.39698e-09, 1, 2.23518e-08, 2.44472e-09, -2.23518e-08, 1, -1.49012e-08, 1.19209e-07, -2.98023e-08 )
script = ExtResource( 2 )
_sections_unfolded = [ "Script" ]
_key = "Female"
_displayName = "Female"
_race = "Human"
_sex = 1

[node name="Body" parent="Rig" index="0"]
extra_cull_margin = 0.5
mesh = ExtResource( 3 )
_sections_unfolded = [ "Geometry", "Material" ]

[node name="Brows" parent="Rig" index="1"]
extra_cull_margin = 0.5
mesh = ExtResource( 4 )
_sections_unfolded = [ "Geometry", "blend_shapes" ]

[node name="Head" parent="Rig" index="2"]
transform = Transform( 1, -5.46439e-17, 0, -5.46439e-17, 1, 0, 0, 0, 1, 0, 0, 0 )
extra_cull_margin = 0.5
mesh = ExtResource( 5 )
_sections_unfolded = [ "Geometry", "blend_shapes" ]

[node name="Short Hair" parent="Rig" index="3" instance=ExtResource( 6 )]

[node name="Rag" parent="Rig" index="4" instance=ExtResource( 7 )]
physics_material_override = SubResource( 1 )

[node name="Collar" parent="Rig" index="5" instance=ExtResource( 8 )]
physics_material_override = SubResource( 2 )

[node name="Chest" type="BoneAttachment" parent="Rig" index="6"]
editor/display_folded = true
transform = Transform( -1, -5.35921e-07, -7.3394e-08, -4.70539e-08, 0.221344, -0.975196, 5.38872e-07, -0.975196, -0.221344, 9.5505e-09, 1.15451, 0.0304438 )
bone_name = "spine03"
_sections_unfolded = [ "Transform" ]

[node name="Label" type="Spatial" parent="Rig/Chest" index="0"]
transform = Transform( 1, 1.7053e-13, 4.26326e-14, 3.41061e-13, 1, 0, -8.52651e-14, -5.96046e-08, 1, 3.60053e-09, -0.0169366, 0.0746193 )
script = ExtResource( 9 )
_key = "Label"

[node name="Right Hand" type="BoneAttachment" parent="Rig" index="7"]
editor/display_folded = true
transform = Transform( -0.0734933, -0.569706, -0.818556, 0.12992, -0.81925, 0.558526, -0.988797, -0.0652987, 0.134226, 0.575052, 1.05649, -0.0324161 )
bone_name = "hand_R"
_sections_unfolded = [ "Transform" ]

[node name="Equip" type="Spatial" parent="Rig/Right Hand" index="0"]
script = ExtResource( 9 )
_sections_unfolded = [ "Transform" ]
_key = "RightHand"

[node name="Right Hand IK" type="SkeletonIK" parent="Rig" index="8"]
root_bone = "upperarm_R"
tip_bone = "hand_R"
interpolation = 0.0
target = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
use_magnet = false
magnet = Vector3( 0, 0, 0 )
target_node = NodePath("")
min_distance = 0.01
max_iterations = 10
script = ExtResource( 10 )
_sections_unfolded = [ "Script" ]
IgnoreRotation = true

[node name="Left Hand" type="BoneAttachment" parent="Rig" index="9"]
editor/display_folded = true
transform = Transform( -0.0731262, 0.570089, 0.818323, -0.130545, -0.818931, 0.558847, 0.988743, -0.0659607, 0.134307, -0.575052, 1.05649, -0.0324159 )
bone_name = "hand_L"
_sections_unfolded = [ "Transform" ]

[node name="Equip" type="Spatial" parent="Rig/Left Hand" index="0"]
transform = Transform( 0.999999, 0, 0, 0, 1, 0, 0, 0, 0.999999, 0, 0, 0 )
script = ExtResource( 9 )
_sections_unfolded = [ "Transform" ]
_key = "LeftHand"

[node name="Binding" type="Node" parent="Rig" index="10"]
script = ExtResource( 11 )

[node name="CollisionShape" type="CollisionShape" parent="." index="1"]
transform = Transform( -1, -3.25841e-07, 1.4243e-14, 0, -4.37114e-08, -1, 3.25841e-07, -1, 4.37114e-08, 0, 0.809487, 0 )
shape = SubResource( 3 )
disabled = false
_sections_unfolded = [ "Transform" ]

[node name="Animations" type="Spatial" parent="." index="2"]
script = ExtResource( 12 )
ProcessMode = 1
Active = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Animations" index="0"]
editor/display_folded = true
root_node = NodePath("../../Rig")
autoplay = ""
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 1.0
anims/Breath = ExtResource( 13 )
anims/GettingUp = ExtResource( 14 )
anims/HoldInRightHand = ExtResource( 15 )
anims/Idle = ExtResource( 16 )
anims/Kneel = ExtResource( 17 )
anims/KneelEnd = ExtResource( 18 )
anims/KneelStart = ExtResource( 19 )
anims/PickUp = ExtResource( 20 )
anims/Reset = ExtResource( 21 )
anims/SitOnGround = ExtResource( 22 )
anims/SitOnGroundStart = ExtResource( 23 )
anims/WalkBackward = ExtResource( 24 )
anims/WalkForward = ExtResource( 25 )
anims/WalkLeft = ExtResource( 26 )
anims/WalkRight = ExtResource( 27 )
blend_times = [  ]
_sections_unfolded = [ "Playback Options" ]

[node name="Binding" type="Node" parent="Animations/AnimationPlayer" index="0"]
script = ExtResource( 11 )

[node name="AnimationTree" type="AnimationTree" parent="Animations" index="1"]
editor/display_folded = true
tree_root = ExtResource( 28 )
anim_player = NodePath("../AnimationPlayer")
active = true
process_mode = 2
root_motion_track = NodePath(".:root")
parameters/Breathing/blend_amount = 0.6
"parameters/Breathing Speed/scale" = 1.0
parameters/Hands/blend_amount = 0.0
parameters/States/playback = SubResource( 4 )
parameters/States/Moving/blend_position = Vector2( 0, 0 )
parameters/States/Sit/playback = SubResource( 5 )
_sections_unfolded = [ "Root Motion", "parameters", "parameters/Default State", "parameters/Hands", "parameters/States", "parameters/TimeScale", "parameters/Transition", "tree_root" ]

[node name="Binding" type="Node" parent="Animations/AnimationTree" index="0"]
script = ExtResource( 11 )

[node name="Vision" type="Node" parent="." index="3"]
script = ExtResource( 29 )
ProcessMode = 0
Active = true
_maxYaw = 80.0
_minYaw = -80.0
_maxPitch = 80.0
_minPitch = -70.0
_headBone = "head"
_eyeBoneLeft = "eye_L"
_eyeBoneRight = "eye_R"

[node name="Locomotion" type="Node" parent="." index="4"]
script = ExtResource( 30 )
ProcessMode = 1
Active = true
_targetPath = NodePath("..")
ApplyGravity = true
IdleState = "Idle"
MoveState = "Moving"
_statesPath = "States"
_blend2DPath = "States/Moving"

[node name="Equipments" type="Node" parent="." index="5"]
script = ExtResource( 31 )
ProcessMode = 0

[node name="Actions" type="Node" parent="." index="6"]
script = ExtResource( 32 )
ProcessMode = 0

[node name="Pickup" type="Node" parent="Actions" index="0"]
script = ExtResource( 33 )
_sections_unfolded = [ "Script", "_tags" ]
ProcessMode = 0
Active = true
_key = "Pickup"
_displayName = "action.Pickup"
PickupDistance = 1.2
Animation = ExtResource( 20 )
IKChain = "Right Hand IK"
AnimatorPath = "States/Action"
StatesPath = "States"
ActionState = "Action"
_tags = [ "TagCarry", "TagHand" ]

[node name="Drop" type="Node" parent="Actions" index="1"]
script = ExtResource( 34 )
_sections_unfolded = [ "Script" ]
ProcessMode = 0
Active = true
_key = "Drop"
_displayName = "action.Drop"

[node name="Sit" type="Node" parent="Actions" index="2"]
script = ExtResource( 35 )
ProcessMode = 0
Active = true
_key = "Sit"
_displayName = "action.Sit"
IdleState = "Idle"
SitState = "Sit"
SitStartState = "Sit Start"
SitEndState = "Sit End"
StatesPath = "States"
SitStatesPath = "States/Sit"

