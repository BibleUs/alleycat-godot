[gd_scene load_steps=19 format=2]

[ext_resource path="res://Source/AlleyCat/Game/Scene.cs" type="Script" id=1]
[ext_resource path="res://Data/Meshes/Characters/Human/Female/Human Female.tscn" type="PackedScene" id=2]
[ext_resource path="res://Source/AlleyCat/Control/PlayerControlFactory.cs" type="Script" id=3]
[ext_resource path="res://Source/AlleyCat/View/OrbitingCharacterViewFactory.cs" type="Script" id=4]
[ext_resource path="res://Source/AlleyCat/Control/InputBindings.cs" type="Script" id=5]
[ext_resource path="res://Source/AlleyCat/Control/MouseAxisInput.cs" type="Script" id=6]
[ext_resource path="res://Source/AlleyCat/Control/ActionAxisInput.cs" type="Script" id=7]
[ext_resource path="res://Source/AlleyCat/View/HeadMountedViewFactory.cs" type="Script" id=8]
[ext_resource path="res://Source/AlleyCat/Control/ActionTriggerInput.cs" type="Script" id=9]
[ext_resource path="res://Source/AlleyCat/View/FreeCameraViewFactory.cs" type="Script" id=10]
[ext_resource path="res://Source/AlleyCat/Control/PlayerInteraction.cs" type="Script" id=11]
[ext_resource path="res://Source/AlleyCat/Control/PlayerActionDelegate.cs" type="Script" id=12]
[ext_resource path="res://Source/AlleyCat/UI/ToggleUIAction.cs" type="Script" id=13]
[ext_resource path="res://Source/AlleyCat/UI/CreateUIAction.cs" type="Script" id=14]
[ext_resource path="res://Data/UI/Inventory/Inventory.tscn" type="PackedScene" id=15]
[ext_resource path="res://Data/UI/Menu Screen.tscn" type="PackedScene" id=16]
[ext_resource path="res://Data/Textures/UI/Crosshair.png" type="Texture" id=17]
[ext_resource path="res://Data/UI/EntityLabel.tscn" type="PackedScene" id=18]

[node name="Base Scene" type="Node"]
script = ExtResource( 1 )
_sections_unfolded = [ "Script" ]
_key = null
_charactersPath = NodePath("Entities/Characters")
_itemsPath = NodePath("Entities/Items")

[node name="Environment" type="Node" parent="."]

[node name="Cameras" type="Node" parent="."]

[node name="Main Camera" type="Camera" parent="Cameras" groups=[
"MainCamera",
]]
transform = Transform( 0.661697, 0, 0.749771, 0, 1, 0, -0.749771, 0, 0.661697, 0.735734, 1.7292, 0.649309 )
keep_aspect = 1
cull_mask = 1
environment = null
h_offset = 0.0
v_offset = 0.0
doppler_tracking = 0
projection = 0
current = true
fov = 70.0
size = 1.0
near = 0.001
far = 100.0
_sections_unfolded = [ "Transform" ]

[node name="Entities" type="Node" parent="."]

[node name="Characters" type="Node" parent="Entities"]

[node name="Player" parent="Entities/Characters" groups=[
"Player",
] instance=ExtResource( 2 )]
_key = "Player"
_displayName = "Player"

[node name="Items" type="Node" parent="Entities"]

[node name="Static Objects" type="Node" parent="."]

[node name="Control" type="Node" parent="."]

[node name="Player" type="Node" parent="Control"]
script = ExtResource( 3 )
Active = true
ProcessMode = 1
_characterPath = NodePath("../../Entities/Characters/Player")
_cameraPath = NodePath("../../Cameras/Main Camera")

[node name="Views" type="Node" parent="Control/Player"]

[node name="Third Person View" type="Node" parent="Control/Player/Views"]
script = ExtResource( 4 )
Active = true
MaxYaw = 180.0
MinYaw = -180.0
MaxPitch = 90.0
MinPitch = -89.0
MinDistance = 0.25
MaxDistance = 10.0
InitialDistance = 0.8
InitialOffset = Vector3( 0, 0, 0 )
ProcessMode = 1
_camera = null
MaxFocalDistance = 2.0
_character = null

[node name="Rotation" type="Node" parent="Control/Player/Views/Third Person View"]
script = ExtResource( 5 )
Active = true

[node name="X" type="Node" parent="Control/Player/Views/Third Person View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 0
Maximum = 0.1

[node name="Y" type="Node" parent="Control/Player/Views/Third Person View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 1
Maximum = 0.1

[node name="Zoom" type="Node" parent="Control/Player/Views/Third Person View"]
script = ExtResource( 5 )
Active = true

[node name="Value" type="Node" parent="Control/Player/Views/Third Person View/Zoom"]
script = ExtResource( 7 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Polling = false
_positiveAction = "zoom_in"
_negativeAction = "zoom_out"

[node name="First Person View" type="Node" parent="Control/Player/Views"]
script = ExtResource( 8 )
Active = false
MaxYaw = 80.0
MinYaw = -80.0
MaxPitch = 80.0
MinPitch = -70.0
ProcessMode = 1
Stabilization = 1
MinStabilization = 0.2
MaxStabilization = 0.8
TransitionTime = 2.0
VelocityThreshold = 0.2
MaxDofDistance = 5.0
MaxFocalDistance = 2.0
FocusRange = 3.0
FocusSpeed = 100.0
_camera = null
_character = null

[node name="Rotation" type="Node" parent="Control/Player/Views/First Person View"]
script = ExtResource( 5 )
Active = true

[node name="X" type="Node" parent="Control/Player/Views/First Person View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 0
Maximum = 0.1

[node name="Y" type="Node" parent="Control/Player/Views/First Person View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 1
Maximum = 0.1

[node name="Deactivate" type="Node" parent="Control/Player/Views/First Person View"]
script = ExtResource( 5 )
Active = true

[node name="Value" type="Node" parent="Control/Player/Views/First Person View/Deactivate"]
script = ExtResource( 9 )
Active = true
UnhandledOnly = false
StopPropagation = true
_action = "zoom_out"

[node name="Free Camera View" type="Node" parent="Control/Player/Views"]
script = ExtResource( 10 )
Active = false
MaxYaw = 180.0
MinYaw = -180.0
MaxPitch = 90.0
MinPitch = -90.0
MaxDofDistance = 5.0
FocusRange = 3.0
FocusSpeed = 100.0
_character = null
_camera = null

[node name="Rotation" type="Node" parent="Control/Player/Views/Free Camera View"]
script = ExtResource( 5 )
Active = true

[node name="X" type="Node" parent="Control/Player/Views/Free Camera View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 0
Maximum = 0.1

[node name="Y" type="Node" parent="Control/Player/Views/Free Camera View/Rotation"]
script = ExtResource( 6 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Axis = 1
Maximum = 0.1

[node name="Movement" type="Node" parent="Control/Player/Views/Free Camera View"]
script = ExtResource( 5 )
Active = true

[node name="X" type="Node" parent="Control/Player/Views/Free Camera View/Movement"]
script = ExtResource( 7 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Polling = true
_positiveAction = "move_right"
_negativeAction = "move_left"

[node name="Y" type="Node" parent="Control/Player/Views/Free Camera View/Movement"]
script = ExtResource( 7 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Polling = true
_positiveAction = "move_forward"
_negativeAction = "move_back"

[node name="Toggle" type="Node" parent="Control/Player/Views/Free Camera View"]
script = ExtResource( 5 )
Active = true

[node name="Value" type="Node" parent="Control/Player/Views/Free Camera View/Toggle"]
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "free_camera"

[node name="Movement" type="Node" parent="Control/Player"]
script = ExtResource( 5 )
Active = true

[node name="X" type="Node" parent="Control/Player/Movement"]
script = ExtResource( 7 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Polling = true
_positiveAction = "move_right"
_negativeAction = "move_left"

[node name="Y" type="Node" parent="Control/Player/Movement"]
script = ExtResource( 7 )
Active = true
Interpolate = true
_sensitivity = 0.5
_curve = null
_deadZone = 0.0
_windowSize = 5.0
_windowShift = 1.0
Polling = true
_positiveAction = "move_forward"
_negativeAction = "move_back"

[node name="Actions" type="Node" parent="Control/Player"]

[node name="Interact" type="Node" parent="Control/Player/Actions"]
script = ExtResource( 11 )
_sections_unfolded = [ "Script" ]
Active = true
_key = "Interact"
_displayName = "action.Interaction"

[node name="Input" type="Node" parent="Control/Player/Actions/Interact"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "interact"

[node name="Sit" type="Node" parent="Control/Player/Actions"]
script = ExtResource( 12 )
_sections_unfolded = [ "Script" ]
Active = true
_key = "Sit"
_displayName = "action.Sit"
_action = "Sit"

[node name="Input" type="Node" parent="Control/Player/Actions/Sit"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "sit"

[node name="Kneel" type="Node" parent="Control/Player/Actions"]
script = ExtResource( 12 )
_sections_unfolded = [ "Script" ]
Active = true
_key = "Kneel"
_displayName = "action.Kneel"
_action = "Kneel"

[node name="Input" type="Node" parent="Control/Player/Actions/Kneel"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "kneel"

[node name="Actions" type="Node" parent="Control"]

[node name="Toggle Console" type="Node" parent="Control/Actions"]
script = ExtResource( 13 )
Active = true
_key = "ToggleConsole"
_displayName = "action.ToggleCosole"
Modal = false
_ui = NodePath("/root/AlleyCat/UI/Console")

[node name="Input" type="Node" parent="Control/Actions/Toggle Console"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = false
StopPropagation = true
_action = "ui_console"

[node name="Show Inventory" type="Node" parent="Control/Actions"]
script = ExtResource( 14 )
Active = true
_key = "ShowInventory"
_displayName = "action.ShowInventory"
Modal = true
_ui = ExtResource( 15 )
_parent = NodePath("../../../UI")

[node name="Input" type="Node" parent="Control/Actions/Show Inventory"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "inventory"

[node name="Show Menu" type="Node" parent="Control/Actions"]
script = ExtResource( 14 )
Active = true
_key = "ShowMenu"
_displayName = "action.ShowMenu"
Modal = true
_ui = ExtResource( 16 )
_parent = NodePath("../../../UI")

[node name="Input" type="Node" parent="Control/Actions/Show Menu"]
pause_mode = 2
script = ExtResource( 9 )
Active = true
UnhandledOnly = true
StopPropagation = true
_action = "ui_cancel"

[node name="UI" type="Node" parent="."]

[node name="Crosshair" type="TextureRect" parent="UI"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -3.0
margin_top = -3.0
margin_right = 3.0
margin_bottom = 3.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
mouse_default_cursor_shape = 0
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource( 17 )
stretch_mode = 4
_sections_unfolded = [ "Rect", "texture" ]

[node name="Entity Label" parent="UI" instance=ExtResource( 18 )]
visible = false

